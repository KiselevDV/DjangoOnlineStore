{% extends 'mainapp/base.html' %}
{% load specifications %}

{% block content %}
  <nav aria-label="breadcrumb" class="mt-3">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{% url 'base' %}">Главная</a></li>
      <li class="breadcrumb-item"><a href="#">{{ product.category.name }}</a></li>
      <li class="breadcrumb-item active" aria-current="page">{{ product.title }}</li>
    </ol>
  </nav>
  <div class="row">
    <div class="col-md-4">
      <img class="img-fluid" src="{{ product.image.url }}" alt="">
    </div>
    <div class="col-md-8">
      <h3>{{ product.title }}</h3>
      <p>Цена: {{ product.price }} руб.</p>
      <p>Описание: {{ product.description }}</p>
      <hr>
      <a href="{% url 'add_to_cart' ct_model=ct_model slug=product.slug %}">
        <button class="btn btn-danger">Добавить в корзину</button>
      </a>
    </div>
    <p class="mt-4">Харктеристики:</p>

    {# Генерация хар-ик, через темплейттег #}
    {# Передаём 'product' в темплейт тег 'product_spec' в качестве переменной #}
    {{ product|product_spec:'Дополнительные параметры можно передать так!!!' }}

    {# То же, через include заданных шаблонов #}
    {% comment %}
    {% if product.category.slug == 'notebooks' %}
      {% include 'mainapp/include/notebook_specification.html' %}
    {% elif product.category.slug == 'smartphones' %}
      {% include 'mainapp/include/smartphone_specification.html' %}
    {% else %}
      <div>Такая категория не существует!!!</div>
    {% endif %}
    {% endcomment %}

  </div>
{% endblock content %}
